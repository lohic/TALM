jQuery(document).ready(function(a){a(".frm_ajax_loading").css("visibility","hidden");var c=a(".frm_blank_field").closest(".frm_toggle_container").prev(".frm_trigger");c&&frmToggleSection(c);a(".frm_trigger").click(function(){frmToggleSection(a(this))});a.isFunction(a.fn.placeholder)?a(".frm-show-form input, .frm-show-form textarea").placeholder():jQuery(".frm-show-form input[onblur], .frm-show-form textarea[onblur]").each(function(){""==jQuery(this).val()&&jQuery(this).blur()});a(document).on("click",
'.frm-show-form input[type="submit"], .frm-show-form input[name="frm_prev_page"], .frm-show-form .frm_save_draft',frmSetNextPage);a(document).on("click",".frm_remove_link",frmRemoveDiv)});
function frmSetNextPage(a){"submit"!=jQuery(this).attr("type")&&a.preventDefault();a=jQuery(this).parents("form:first");if("frm_prev_page"==jQuery(this).attr("name")||jQuery(this).hasClass("frm_prev_page"))var c=jQuery(a).find(".frm_next_page").attr("id").replace("frm_next_p_",""),e="";else"frm_save_draft"==jQuery(this).attr("name")||jQuery(this).hasClass("frm_save_draft")?(c="",e=1):e=c="";jQuery(".frm_next_page").val(c);jQuery(".frm_saving_draft").val(e);"submit"!=jQuery(this).attr("type")&&a.trigger("submit")}
function frmToggleSection(a){a.next(".frm_toggle_container").slideToggle("fast");a.toggleClass("active").children(".ui-icon-triangle-1-e, .ui-icon-triangle-1-s").toggleClass("ui-icon-triangle-1-s ui-icon-triangle-1-e")}function frmClearDefault(a,c){a=a.replace(/(\n|\r\n)/g,"\r");c.value.replace(/(\n|\r\n)/g,"\r")==a&&(c.value="",jQuery(c).removeClass("frm_default"))}function frmReplaceDefault(a,c){a=a.replace(/(\n|\r\n)/g,"\r");""==c.value&&(c.value=a,jQuery(c).addClass("frm_default"))}
function frmCheckDependent(a,c,e){if("undefined"!=typeof __FRMRULES)var d=__FRMRULES;if("undefined"!=typeof d&&(d=d[c],"undefined"!=typeof d)){if("undefined"==typeof e||null===e)e="go";for(var f=[],k=0;k<d.length;k++){var l=d[k];if("undefined"!=typeof l)for(var g=0;g<l.Conditions.length;g++){var m=l.Conditions[g];m.HideField=l.Setting.FieldName;m.MatchType=l.MatchType;m.Show=l.Show;f.push(m)}}for(var h=[],n=[],p=f.length,k=0;k<p;k++)(function(d){var b=f[d];"undefined"==typeof h[b.HideField]&&(h[b.HideField]=
[]);if(b.FieldName!=c||"undefined"==typeof a||"und"==a){var k=a;"radio"==b.Type||"data-radio"==b.Type?a=jQuery("input[name='item_meta["+b.FieldName+"]']:checked, input[type='hidden'][name='item_meta["+b.FieldName+"]']").val():"select"==b.Type||"data-select"==b.Type?(a=jQuery("select[name^='item_meta["+b.FieldName+"]'], input[type='hidden'][name^='item_meta["+b.FieldName+"]']").val(),jQuery("input[type='hidden'][name^='item_meta["+b.FieldName+"]']").length&&(a=[],jQuery("input[type='hidden'][name^='item_meta["+
b.FieldName+"]']").each(function(){a.push(jQuery(this).val())}))):"checkbox"!=b.Type&&"data-checkbox"!=b.Type&&(a=jQuery("input[name^='item_meta["+b.FieldName+"]']").val())}"undefined"==typeof a&&(a=jQuery("input[type=hidden][name^='item_meta["+b.FieldName+"]']").val(),"undefined"==typeof a&&(a=""));if("checkbox"==b.Type||"data-checkbox"==b.Type&&"undefined"==typeof b.LinkedField)h[b.HideField][d]=!1,jQuery("input[name='item_meta["+b.FieldName+"][]']:checked, input[type='hidden'][name^='item_meta["+
b.FieldName+"]']").each(function(){var a=frmOperators(b.Condition,b.Value,jQuery(this).val());!1==h[b.HideField][d]&&a&&(h[b.HideField][d]=!0)});else if("data-radio"==b.Type)"undefined"==typeof b.DataType||""==b.DataType||"data"==b.DataType?""==a?(h[b.HideField][d]=!1,jQuery("#frm_field_"+b.HideField+"_container").fadeOut("slow"),jQuery("#frm_data_field_"+b.HideField+"_container").html("")):h[b.HideField][d]="undefined"==typeof b.DataType?frmOperators(b.Condition,b.Value,a):{funcName:"frmGetData",
f:b,sel:a}:h[b.HideField][d]=""==a?!1:{funcName:"frmGetDataOpts",f:b,sel:a};else if("data-checkbox"==b.Type&&"undefined"!=typeof b.LinkedField){var g=[];jQuery("input[name='item_meta["+b.FieldName+"][]']:checked, input[type='hidden'][name='item_meta["+b.FieldName+"][]']").each(function(){g.push(jQuery(this).val())});"undefined"==typeof b.DataType||""==b.DataType||"data"==b.DataType?0==g.length?(h[b.HideField][d]=!1,jQuery("#frm_field_"+b.HideField+"_container").fadeOut("slow"),jQuery("#frm_data_field_"+
b.HideField+"_container").html("")):(h[b.HideField][d]=!0,jQuery("#frm_data_field_"+b.HideField+"_container").html(""),frmGetData(b,g,1)):h[b.HideField][d]=0==g.length?!1:{funcName:"frmGetDataOpts",f:b,sel:g}}else"data-select"==b.Type&&"undefined"!=typeof b.LinkedField?""==b.DataType||"data"==b.DataType?""==a?(h[b.HideField][d]=!1,jQuery("#frm_data_field_"+b.HideField+"_container").html("")):a&&jQuery.isArray(a)?(h[b.HideField][d]=!0,jQuery("#frm_data_field_"+b.HideField+"_container").html(""),frmGetData(b,
a,1)):h[b.HideField][d]={funcName:"frmGetData",f:b,sel:a}:h[b.HideField][d]=""==a?!1:{funcName:"frmGetDataOpts",f:b,sel:a}:"undefined"==typeof b.Value&&0===b.Type.indexOf("data")?(b.Value=""==a?"1":a,h[b.HideField][d]=frmOperators(b.Condition,b.Value,a),b.Value=void 0):h[b.HideField][d]=frmOperators(b.Condition,b.Value,a);b.FieldName!=c&&(a=k);"any"==b.MatchType?!1!=h[b.HideField][d]?"show"==b.Show?!0!=h[b.HideField][d]?frmShowField(h[b.HideField][d],b.FieldName,e):jQuery("#frm_field_"+b.HideField+
"_container").show():jQuery("#frm_field_"+b.HideField+"_container").hide():n.push({result:h[b.HideField][d],show:b.Show,match:"any",fname:b.FieldName,fkey:b.HideField}):"all"==b.MatchType&&n.push({result:h[b.HideField][d],show:b.Show,match:"all",fname:b.FieldName,fkey:b.HideField});d==p-1&&jQuery.each(n,function(a,b){"undefined"!=typeof b&&"undefined"!=typeof b.result&&("any"==b.match&&-1==jQuery.inArray(!0,h[b.fkey])||"all"==b.match&&-1<jQuery.inArray(!1,h[b.fkey])?"show"==b.show?(jQuery("#frm_field_"+
b.fkey+"_container:hidden").hide(),jQuery("#frm_field_"+b.fkey+"_container").hide()):jQuery("#frm_field_"+b.fkey+"_container").show():"show"==b.show?jQuery("#frm_field_"+b.fkey+"_container").show():(jQuery("#frm_field_"+b.fkey+"_container:hidden").hide(),jQuery("#frm_field_"+b.fkey+"_container").hide()),!1!=typeof b.result&&!0!=typeof b.result&&frmShowField(b.result,b.fname,e),delete n[a])})})(k)}}
function frmOperators(a,c,e){"undefined"==typeof e&&(e="");jQuery.isArray(e)&&-1<jQuery.inArray(c,e)&&(e=c);-1!=String(c).search(/^\s*(\+|-)?((\d+(\.\d+)?)|(\.\d+))\s*$/)&&(c=parseFloat(c),e=parseFloat(e));return"-1"!=String(c).indexOf("&quot;")&&frmOperators(a,c.replace("&quot;",'"'),e)?!0:{"==":function(a,c){return a==c},"!=":function(a,c){return a!=c},"<":function(a,c){return a>c},">":function(a,c){return a<c},LIKE:function(a,c){return-1!=c.indexOf(a)},"not LIKE":function(a,c){return-1==c.indexOf(a)}}[a](c,
e)}function frmShowField(a,c,e){"frmGetDataOpts"==a.funcName?frmGetDataOpts(a.f,a.sel,c,e):"frmGetData"==a.funcName&&frmGetData(a.f,a.sel,0)}
function frmGetData(a,c,e){e||jQuery("#frm_data_field_"+a.HideField+"_container").html('<span class="frm-loading-img"></span>');jQuery.ajax({type:"POST",url:frm_js.ajax_url,data:"action=frm_fields_ajax_get_data&entry_id="+c+"&field_id="+a.LinkedField+"&current_field="+a.HideField,success:function(d){""!=d&&jQuery("#frm_field_"+a.HideField+"_container").show();if(e)jQuery("#frm_data_field_"+a.HideField+"_container").append(d);else{jQuery("#frm_data_field_"+a.HideField+"_container").html(d);var f=jQuery("#frm_data_field_"+
a.HideField+"_container").children("input").val();""!=d&&""!=f||jQuery("#frm_field_"+a.HideField+"_container").hide();frmCheckDependent(c,a.HideField)}return!0}})}
function frmGetDataOpts(a,c,e,d){"undefined"==typeof frm_checked_dep&&(frm_checked_dep=[]);if(!("stop"==d&&-1<jQuery.inArray(a.HideField,frm_checked_dep)&&jQuery("input[type='hidden'][name^='item_meta["+e+"]']").length)){var f=[];if("checkbox"==a.DataType||"radio"==a.DataType)jQuery("input[name^='item_meta["+a.HideField+"]']:checked, input[type='hidden'][name^='item_meta["+a.HideField+"]']").each(function(){f.push(jQuery(this).val())});else if("select"==a.DataType)if(jQuery("input[type='hidden'][name^='item_meta["+
a.HideField+"]']").length)jQuery("input[type='hidden'][name^='item_meta["+a.HideField+"]']").each(function(){f.push(jQuery(this).val())});else if(jQuery("select[name^='item_meta["+a.HideField+"]']").length)f=jQuery("select[name^='item_meta["+a.HideField+"]']").val();else{if(("stop"==d||jQuery("#frm_data_field_"+a.HideField+"_container .frm-loading-img").length)&&-1<jQuery.inArray(a.HideField,frm_checked_dep))return}else f.push(jQuery("input[name^='item_meta["+a.HideField+"]']").val());if(null==f||
0==f.length)f="";frm_checked_dep.push(a.HideField);if(!jQuery("#frm_data_field_"+a.HideField+"_container").length&&jQuery("input[type='hidden'][name^='item_meta["+a.HideField+"]']").length)return frmCheckDependent(f,a.HideField,"stop"),!1;jQuery("#frm_data_field_"+a.HideField+"_container").html('<span class="frm-loading-img" style="visibility:visible;display:inline;"></span>');jQuery.ajax({type:"POST",url:frm_js.ajax_url,data:"action=frm_fields_ajax_data_options&hide_field="+e+"&entry_id="+c+"&selected_field_id="+
a.LinkedField+"&field_id="+a.HideField,success:function(c){""==c?(jQuery("#frm_field_"+a.HideField+"_container").hide(),f=""):"all"!=a.MatchType&&jQuery("#frm_field_"+a.HideField+"_container").show();jQuery("#frm_data_field_"+a.HideField+"_container").html(c);jQuery(c).hasClass("frm_chzn")&&jQuery().chosen&&jQuery(".frm_chzn").chosen();""!=c&&""!=f&&(jQuery.isArray(f)||(c=[],c.push(f),f=c),jQuery.each(f,function(c,d){"undefined"!=typeof d&&("checkbox"==a.DataType||"radio"==a.DataType?jQuery("#field_"+
a.HideField+"-"+d).attr("checked","checked"):"select"==a.DataType?jQuery("select[name^='item_meta["+a.HideField+"]'] option[value="+d+"]").length?jQuery("select[name^='item_meta["+a.HideField+"]'] option[value="+d+"]").prop("selected",!0):f.splice(c,1):jQuery("input[name^='item_meta["+a.HideField+"]']").val(d))}));frmCheckDependent(f,a.HideField,"stop")}})}}
function frmOnSubmit(a){a.preventDefault();jQuery(this).find(".wp-editor-wrap").length&&"undefined"!=typeof tinyMCE&&tinyMCE.triggerSave();frmGetFormErrors(this)}
function frmGetFormErrors(a){jQuery(a).find('input[type="submit"], input[type="button"]').attr("disabled","disabled");jQuery(a).find(".frm_ajax_loading").css("visibility","visible");frm_checked_dep=[];jQuery.ajax({type:"POST",url:frm_js.ajax_url,data:jQuery(a).serialize()+"&action=frm_entries_"+jQuery(a).find('input[name="frm_action"]').val()+"&_ajax_nonce=1",success:function(c){c=c.replace(/^\s+|\s+$/g,"");0===c.indexOf("{")&&(c=jQuery.parseJSON(c));if(""==c||!c||"0"==c||"object"!=typeof c&&0===
c.indexOf("<!DOCTYPE"))jQuery("#frm_loading").length&&(c=jQuery(a).find("input[type=file]").val(),"undefined"!=typeof c&&""!=c&&setTimeout(function(){jQuery("#frm_loading").fadeIn("slow")},2E3)),jQuery(a).find("#recaptcha_area").length&&(1>jQuery(a).find(".frm_next_page").length||1>jQuery(a).find(".frm_next_page").val())&&jQuery(a).find("#recaptcha_area").replaceWith(""),a.submit();else if("object"!=typeof c){jQuery(a).find(".frm_ajax_loading").css("visibility","hidden");var e=jQuery(a).closest("#frm_form_"+
jQuery(a).find('input[name="form_id"]').val()+"_container"),d=e.offset().top;e.replaceWith(c);var f=document.documentElement.scrollTop||document.body.scrollTop;d&&0<d&&f>d&&jQuery(window).scrollTop(d);if("function"==typeof frmThemeOverride_frmAfterSubmit){if(e=jQuery(c).find('input[name="form_id"]').val())var k=jQuery('input[name="frm_page_order_'+e+'"]').val();frmThemeOverride_frmAfterSubmit(e,k,c)}jQuery(a).find('input[name="id"]').length&&(c=jQuery(a).find('input[name="id"]').val(),jQuery("#frm_edit_"+
c).find("a").addClass("frm_ajax_edited").click())}else{jQuery(a).find('input[type="submit"], input[type="button"]').removeAttr("disabled");jQuery(a).find(".frm_ajax_loading").css("visibility","hidden");k=!0;jQuery(".form-field").removeClass("frm_blank_field");jQuery(".form-field .frm_error").replaceWith("");var e="",l=!1,g;for(g in c)if(jQuery(a).find("#frm_field_"+g+"_container").length&&jQuery("#frm_field_"+g+"_container").is(":visible"))k=!1,""==e&&(e="#frm_field_"+g+"_container",d=jQuery(a).find(e).offset().top,
f=jQuery("html").css("margin-top"),d&&f&&(d-=parseInt(f)),f=document.documentElement.scrollTop||document.body.scrollTop,d&&f>d&&jQuery(window).scrollTop(d-4)),jQuery(a).find("#frm_field_"+g+"_container #recaptcha_area").length&&(l=!0,Recaptcha.reload()),jQuery(a).find("#frm_field_"+g+"_container").addClass("frm_blank_field"),"function"==typeof frmThemeOverride_frmPlaceError?frmThemeOverride_frmPlaceError(g,c):jQuery(a).find("#frm_field_"+g+"_container").append('<div class="frm_error">'+c[g]+"</div>");
else if("redirect"==g){window.location=c[g];return}!0!=l&&jQuery(a).find("#recaptcha_area").replaceWith("");k&&a.submit()}},error:function(c){jQuery(a).find('input[type="submit"], input[type="button"]').removeAttr("disabled");a.submit()}})}
function frmEditEntry(a,c,e,d,f,k){var l=jQuery("#frm_edit_"+a).text(),g=jQuery("#"+c+a).html();jQuery("#"+c+a).html('<span class="frm-loading-img" id="'+c+a+'"></span><div class="frm_orig_content" style="display:none">'+g+"</div>");jQuery.ajax({type:"POST",url:frm_js.ajax_url,dataType:"html",data:"action=frm_entries_edit_entry_ajax&post_id="+e+"&entry_id="+a+"&id="+d,success:function(g){jQuery("#"+c+a).children(".frm-loading-img").replaceWith(g);jQuery("#frm_edit_"+a).replaceWith('<span id="frm_edit_'+
a+'"><a onclick="frmCancelEdit('+a+",'"+c+"','"+l+"',"+e+","+d+",'"+k+'\')" class="'+k+'">'+f+"</a></span>")}})}
function frmCancelEdit(a,c,e,d,f,k){var l=jQuery("#frm_edit_"+a).text();jQuery("#frm_edit_"+a).find("a").hasClass("frm_ajax_edited")||(jQuery("#"+c+a).children(".frm_forms").replaceWith(""),jQuery("#"+c+a).children(".frm_orig_content").fadeIn("slow").removeClass("frm_orig_content"));jQuery("#frm_edit_"+a).replaceWith('<a id="frm_edit_'+a+'" class="frm_edit_link '+k+'" href="javascript:frmEditEntry('+a+",'"+c+"',"+d+","+f+",'"+l+"','"+k+"')\">"+e+"</a>")}
function frmUpdateField(a,c,e,d,f){jQuery("#frm_update_field_"+a+"_"+c).html('<span class="frm-loading-img"></span>');jQuery.ajax({type:"POST",url:frm_js.ajax_url,data:"action=frm_entries_update_field_ajax&entry_id="+a+"&field_id="+c+"&value="+e,success:function(e){""==d.replace(/^\s+|\s+$/g,"")?jQuery("#frm_update_field_"+a+"_"+c+"_"+f).fadeOut("slow"):jQuery("#frm_update_field_"+a+"_"+c+"_"+f).replaceWith(d)}})}
function frmDeleteEntry(a,c){jQuery("#frm_delete_"+a).replaceWith('<span class="frm-loading-img" id="frm_delete_'+a+'"></span>');jQuery.ajax({type:"POST",url:frm_js.ajax_url,data:"action=frm_entries_destroy&entry="+a,success:function(e){"success"==e.replace(/^\s+|\s+$/g,"")?jQuery("#"+c+a).fadeOut("slow"):jQuery("#frm_delete_"+a).replaceWith(e)}})}function frmRemoveDiv(){jQuery(this).parent(".frm_uploaded_files").fadeOut("slow").replaceWith("")}
function frmNextUpload(a,c){a.wrap('<div class="frm_file_names frm_uploaded_files">');a.after(a.val()+' <a href="#" onclick="frmClearFile(jQuery(this));return false;">'+frm_js.remove+"</a>");a.hide();jQuery("#frm_field_"+c+"_container").append('<input name="file'+c+'[]" type="file" onchange="frmNextUpload(jQuery(this),'+c+')"/>')}function frmClearFile(a){a.parent(".frm_file_names").replaceWith("");return!1}
function frm_resend_email(a,c){jQuery("#frm_resend_email").replaceWith('<img id="frm_resend_email" src="'+frm_js.images_url+'/wpspin_light.gif" alt="'+frm_js.loading+'" />');jQuery.ajax({type:"POST",url:frm_js.ajax_url,data:"action=frm_entries_send_email&entry_id="+a+"&form_id="+c+"&type=email",success:function(a){jQuery("#frm_resend_email").replaceWith(a)}})}jQuery.fn.frmVisible=function(){return this.css("visibility","visible")};jQuery.fn.frmInvisible=function(){return this.css("visibility","hidden")};
jQuery.fn.frmVisibilityToggle=function(){return this.css("visibility",function(a,c){return"visible"==c?"hidden":"visible"})};function frmScrollMsg(a){(a=jQuery("#frm_form_"+a+"_container").offset())&&window.scrollTo(a.left,a.top-28)};