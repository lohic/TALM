jQuery(document).ready(function(a){window.broadcast={$show_hide:null,$broadcast:null,$broadcast_blogs_htmls:null,$blogs_html:null,$select_all:null,$invert_selection:null,init:function(){this.$broadcast=a("#threewp_broadcast.postbox");if(this.$broadcast.length<1){return}if(a("input",this.$broadcast).length<1){return}this.$blogs_html=a(".blogs.html_section",this.$broadcast);this.$broadcast_blogs_htmls=a("input.checkbox",this.$blogs_html);this.$selection_change_container=a("<div />").addClass("clear").addClass("selection_change_container howto").appendTo(this.$blogs_html);this.$select_all=a("<span />").addClass("selection_change select_deselect_all").click(function(){var b=!window.broadcast.$broadcast_blogs_htmls.first().prop("checked");window.broadcast.$broadcast_blogs_htmls.each(function(d,e){var c=a(e);if(c.prop("disabled")!=true){c.prop("checked",b)}})}).text(broadcast_strings.select_deselect_all).appendTo(this.$selection_change_container);this.$selection_change_container.append("&emsp;");this.$invert_selection=a("<span />").click(function(){window.broadcast.$broadcast_blogs_htmls.each(function(c,e){var b=a(e);var d=b.prop("checked");b.prop("checked",!d)})}).addClass("selection_change invert_selection").text(broadcast_strings.invert_selection).appendTo(this.$selection_change_container);if(broadcast_blogs_to_hide===undefined){broadcast_blogs_to_hide=5}if(this.$broadcast_blogs_htmls.length>broadcast_blogs_to_hide){this.$show_hide=a("<div />").addClass("show_hide howto").appendTo(this.$blogs_html).click(function(){var b=a(this);if(window.broadcast.$blogs_html.hasClass("opened")){window.broadcast.hide_blogs()}else{window.broadcast.show_blogs()}});this.hide_blogs()}a(".blog_groups select",this.$broadcast).change(function(){var c=a(this);var d=c.val().split(" ");for(var b=0;b<d.length;b++){a("#plainview_sdk_form2_inputs_checkboxes_blogs_"+d[b],window.broadcast.$broadcast).prop("checked",true)}c.val("");if(window.broadcast.$blogs_html.hasClass("closed")){window.broadcast.$show_hide.click().click()}})},hide_blogs:function(){window.broadcast.$blogs_html.removeClass("opened").addClass("closed");this.$show_hide.html(broadcast_strings.show_all);this.$broadcast_blogs_htmls.each(function(b,d){var e=a(this);var c=e.prop("checked");if(e.prop("hidden")===true){return}if(!c){e.parent().hide()}})},init_settings_page:function(){this.$settings_form=a("form#broadcast_settings");if(this.$settings_form.length<1){return}this.$settings_form.$broadcast_internal_fields=a("#plainview_sdk_form2_inputs_checkbox_broadcast_internal_custom_fields",this.$settings_form);this.$settings_form.$blacklist=a("#plainview_sdk_form2_inputs_textarea_custom_field_blacklist",this.$settings_form);this.$settings_form.$whitelist=a("#plainview_sdk_form2_inputs_textarea_custom_field_whitelist",this.$settings_form);this.$settings_form.$broadcast_internal_fields.change(function(){var b=a(this).prop("checked");if(b){window.broadcast.$settings_form.$blacklist.prop("readonly",!b).fadeTo(200,1);window.broadcast.$settings_form.$whitelist.prop("readonly",b).fadeTo(200,0.5)}else{window.broadcast.$settings_form.$blacklist.prop("readonly",!b).fadeTo(200,0.5);window.broadcast.$settings_form.$whitelist.prop("readonly",b).fadeTo(200,1)}}).change()},show_blogs:function(){window.broadcast.$blogs_html.removeClass("closed").addClass("opened");this.$show_hide.html(broadcast_strings.hide_all);a.each(this.$broadcast_blogs_htmls,function(b,c){var d=a(this);if(d.prop("hidden")===true){return}d.parent().show()})}};broadcast.init();broadcast.init_settings_page()});